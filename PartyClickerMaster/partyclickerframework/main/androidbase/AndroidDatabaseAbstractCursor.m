//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/kgalligan/devel-doppl/core-doppl/androidbase/src/main/java/android/database/AbstractCursor.java
//

#include "AndroidDatabaseAbstractCursor.h"
#include "AndroidDatabaseCharArrayBuffer.h"
#include "AndroidDatabaseCursor.h"
#include "AndroidDatabaseCursorIndexOutOfBoundsException.h"
#include "AndroidDatabaseCursorWindow.h"
#include "AndroidDatabaseDataSetObservable.h"
#include "AndroidDatabaseDataSetObserver.h"
#include "AndroidDatabaseDatabaseUtils.h"
#include "AndroidOsBundle.h"
#include "IOSClass.h"
#include "IOSObjectArray.h"
#include "IOSPrimitiveArray.h"
#include "J2ObjC_source.h"
#include "android/util/Log.h"
#include "java/lang/Deprecated.h"
#include "java/lang/Exception.h"
#include "java/lang/IllegalArgumentException.h"
#include "java/lang/Long.h"
#include "java/lang/UnsupportedOperationException.h"
#include "java/lang/annotation/Annotation.h"
#include "java/util/HashMap.h"

@interface AndroidDatabaseAbstractCursor () {
 @public
  id mSelfObserverLock_;
  AndroidDatabaseDataSetObservable *mDataSetObservable_;
  AndroidOsBundle *mExtras_;
}

@end

J2OBJC_FIELD_SETTER(AndroidDatabaseAbstractCursor, mSelfObserverLock_, id)
J2OBJC_FIELD_SETTER(AndroidDatabaseAbstractCursor, mDataSetObservable_, AndroidDatabaseDataSetObservable *)
J2OBJC_FIELD_SETTER(AndroidDatabaseAbstractCursor, mExtras_, AndroidOsBundle *)

inline NSString *AndroidDatabaseAbstractCursor_get_TAG();
static NSString *AndroidDatabaseAbstractCursor_TAG = @"Cursor";
J2OBJC_STATIC_FIELD_OBJ_FINAL(AndroidDatabaseAbstractCursor, TAG, NSString *)

__attribute__((unused)) static jboolean AndroidDatabaseAbstractCursor_moveToPositionWithInt_(AndroidDatabaseAbstractCursor *self, jint position);

__attribute__((unused)) static IOSObjectArray *AndroidDatabaseAbstractCursor__Annotations$0();

__attribute__((unused)) static IOSObjectArray *AndroidDatabaseAbstractCursor__Annotations$1();

__attribute__((unused)) static IOSObjectArray *AndroidDatabaseAbstractCursor__Annotations$2();

__attribute__((unused)) static IOSObjectArray *AndroidDatabaseAbstractCursor__Annotations$3();

__attribute__((unused)) static IOSObjectArray *AndroidDatabaseAbstractCursor__Annotations$4();

@implementation AndroidDatabaseAbstractCursor

- (jint)getCount {
  // can't call an abstract method
  [self doesNotRecognizeSelector:_cmd];
  return 0;
}

- (IOSObjectArray *)getColumnNames {
  // can't call an abstract method
  [self doesNotRecognizeSelector:_cmd];
  return 0;
}

- (NSString *)getStringWithInt:(jint)column {
  // can't call an abstract method
  [self doesNotRecognizeSelector:_cmd];
  return 0;
}

- (jshort)getShortWithInt:(jint)column {
  // can't call an abstract method
  [self doesNotRecognizeSelector:_cmd];
  return 0;
}

- (jint)getIntWithInt:(jint)column {
  // can't call an abstract method
  [self doesNotRecognizeSelector:_cmd];
  return 0;
}

- (jlong)getLongWithInt:(jint)column {
  // can't call an abstract method
  [self doesNotRecognizeSelector:_cmd];
  return 0;
}

- (jfloat)getFloatWithInt:(jint)column {
  // can't call an abstract method
  [self doesNotRecognizeSelector:_cmd];
  return 0;
}

- (jdouble)getDoubleWithInt:(jint)column {
  // can't call an abstract method
  [self doesNotRecognizeSelector:_cmd];
  return 0;
}

- (jboolean)isNullWithInt:(jint)column {
  // can't call an abstract method
  [self doesNotRecognizeSelector:_cmd];
  return 0;
}

- (jint)getTypeWithInt:(jint)column {
  return AndroidDatabaseCursor_FIELD_TYPE_STRING;
}

- (IOSByteArray *)getBlobWithInt:(jint)column {
  @throw create_JavaLangUnsupportedOperationException_initWithNSString_(@"getBlob is not supported");
}

- (AndroidDatabaseCursorWindow *)getWindow {
  return nil;
}

- (jint)getColumnCount {
  return ((IOSObjectArray *) nil_chk([self getColumnNames]))->size_;
}

- (void)deactivate {
  [self onDeactivateOrClose];
}

- (void)onDeactivateOrClose {
  [((AndroidDatabaseDataSetObservable *) nil_chk(mDataSetObservable_)) notifyInvalidated];
}

- (jboolean)requery {
  [((AndroidDatabaseDataSetObservable *) nil_chk(mDataSetObservable_)) notifyChanged];
  return true;
}

- (jboolean)isClosed {
  return mClosed_;
}

- (void)close {
  mClosed_ = true;
  [self onDeactivateOrClose];
}

- (jboolean)onMoveWithInt:(jint)oldPosition
                  withInt:(jint)newPosition {
  return true;
}

- (void)copyStringToBufferWithInt:(jint)columnIndex
withAndroidDatabaseCharArrayBuffer:(AndroidDatabaseCharArrayBuffer *)buffer {
  NSString *result = [self getStringWithInt:columnIndex];
  if (result != nil) {
    IOSCharArray *data = ((AndroidDatabaseCharArrayBuffer *) nil_chk(buffer))->data_;
    if (data == nil || data->size_ < ((jint) [result length])) {
      JreStrongAssign(&buffer->data_, [result toCharArray]);
    }
    else {
      [result getChars:0 sourceEnd:((jint) [result length]) destination:data destinationBegin:0];
    }
    buffer->sizeCopied_ = ((jint) [result length]);
  }
  else {
    ((AndroidDatabaseCharArrayBuffer *) nil_chk(buffer))->sizeCopied_ = 0;
  }
}

J2OBJC_IGNORE_DESIGNATED_BEGIN
- (instancetype)init {
  AndroidDatabaseAbstractCursor_init(self);
  return self;
}
J2OBJC_IGNORE_DESIGNATED_END

- (jint)getPosition {
  return mPos_;
}

- (jboolean)moveToPositionWithInt:(jint)position {
  return AndroidDatabaseAbstractCursor_moveToPositionWithInt_(self, position);
}

- (void)fillWindowWithInt:(jint)position
withAndroidDatabaseCursorWindow:(AndroidDatabaseCursorWindow *)window {
  AndroidDatabaseDatabaseUtils_cursorFillWindowWithAndroidDatabaseCursor_withInt_withAndroidDatabaseCursorWindow_(self, position, window);
}

- (jboolean)moveWithInt:(jint)offset {
  return AndroidDatabaseAbstractCursor_moveToPositionWithInt_(self, mPos_ + offset);
}

- (jboolean)moveToFirst {
  return AndroidDatabaseAbstractCursor_moveToPositionWithInt_(self, 0);
}

- (jboolean)moveToLast {
  return AndroidDatabaseAbstractCursor_moveToPositionWithInt_(self, [self getCount] - 1);
}

- (jboolean)moveToNext {
  return AndroidDatabaseAbstractCursor_moveToPositionWithInt_(self, mPos_ + 1);
}

- (jboolean)moveToPrevious {
  return AndroidDatabaseAbstractCursor_moveToPositionWithInt_(self, mPos_ - 1);
}

- (jboolean)isFirst {
  return mPos_ == 0 && [self getCount] != 0;
}

- (jboolean)isLast {
  jint cnt = [self getCount];
  return mPos_ == (cnt - 1) && cnt != 0;
}

- (jboolean)isBeforeFirst {
  if ([self getCount] == 0) {
    return true;
  }
  return mPos_ == -1;
}

- (jboolean)isAfterLast {
  if ([self getCount] == 0) {
    return true;
  }
  return mPos_ == [self getCount];
}

- (jint)getColumnIndexWithNSString:(NSString *)columnName {
  jint periodIndex = [((NSString *) nil_chk(columnName)) lastIndexOf:'.'];
  if (periodIndex != -1) {
    JavaLangException *e = create_JavaLangException_init();
    AndroidUtilLog_eWithNSString_withNSString_withNSException_(AndroidDatabaseAbstractCursor_TAG, JreStrcat("$$", @"requesting column name with table name -- ", columnName), e);
    columnName = [columnName substring:periodIndex + 1];
  }
  IOSObjectArray *columnNames = [self getColumnNames];
  jint length = ((IOSObjectArray *) nil_chk(columnNames))->size_;
  for (jint i = 0; i < length; i++) {
    if ([((NSString *) nil_chk(IOSObjectArray_Get(columnNames, i))) equalsIgnoreCase:columnName]) {
      return i;
    }
  }
  return -1;
}

- (jint)getColumnIndexOrThrowWithNSString:(NSString *)columnName {
  jint index = [self getColumnIndexWithNSString:columnName];
  if (index < 0) {
    @throw create_JavaLangIllegalArgumentException_initWithNSString_(JreStrcat("$$$", @"column '", columnName, @"' does not exist"));
  }
  return index;
}

- (NSString *)getColumnNameWithInt:(jint)columnIndex {
  return IOSObjectArray_Get(nil_chk([self getColumnNames]), columnIndex);
}

- (void)registerDataSetObserverWithAndroidDatabaseDataSetObserver:(AndroidDatabaseDataSetObserver *)observer {
  [((AndroidDatabaseDataSetObservable *) nil_chk(mDataSetObservable_)) registerObserverWithId:observer];
}

- (void)unregisterDataSetObserverWithAndroidDatabaseDataSetObserver:(AndroidDatabaseDataSetObserver *)observer {
  [((AndroidDatabaseDataSetObservable *) nil_chk(mDataSetObservable_)) unregisterObserverWithId:observer];
}

- (jboolean)getWantsAllOnMoveCalls {
  return false;
}

- (void)setExtrasWithAndroidOsBundle:(AndroidOsBundle *)extras {
  JreStrongAssign(&mExtras_, (extras == nil) ? JreLoadStatic(AndroidOsBundle, EMPTY) : extras);
}

- (AndroidOsBundle *)getExtras {
  return mExtras_;
}

- (AndroidOsBundle *)respondWithAndroidOsBundle:(AndroidOsBundle *)extras {
  return JreLoadStatic(AndroidOsBundle, EMPTY);
}

- (jboolean)isFieldUpdatedWithInt:(jint)columnIndex {
  return false;
}

- (id)getUpdatedFieldWithInt:(jint)columnIndex {
  return nil;
}

- (void)checkPosition {
  if (-1 == mPos_ || [self getCount] == mPos_) {
    @throw create_AndroidDatabaseCursorIndexOutOfBoundsException_initWithInt_withInt_(mPos_, [self getCount]);
  }
}

- (void)javaFinalize {
  @try {
    if (!mClosed_) [self close];
  }
  @catch (JavaLangException *e) {
  }
}

- (void)dealloc {
  JreCheckFinalize(self, [AndroidDatabaseAbstractCursor class]);
  RELEASE_(mUpdatedRows_);
  RELEASE_(mCurrentRowID_);
  RELEASE_(mSelfObserverLock_);
  RELEASE_(mDataSetObservable_);
  RELEASE_(mExtras_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, "I", 0x401, -1, -1, -1, -1, -1, -1 },
    { NULL, "[LNSString;", 0x401, -1, -1, -1, -1, -1, -1 },
    { NULL, "LNSString;", 0x401, 0, 1, -1, -1, -1, -1 },
    { NULL, "S", 0x401, 2, 1, -1, -1, -1, -1 },
    { NULL, "I", 0x401, 3, 1, -1, -1, -1, -1 },
    { NULL, "J", 0x401, 4, 1, -1, -1, -1, -1 },
    { NULL, "F", 0x401, 5, 1, -1, -1, -1, -1 },
    { NULL, "D", 0x401, 6, 1, -1, -1, -1, -1 },
    { NULL, "Z", 0x401, 7, 1, -1, -1, -1, -1 },
    { NULL, "I", 0x1, 8, 1, -1, -1, -1, -1 },
    { NULL, "[B", 0x1, 9, 1, -1, -1, -1, -1 },
    { NULL, "LAndroidDatabaseCursorWindow;", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "I", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x4, -1, -1, -1, -1, -1, -1 },
    { NULL, "Z", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "Z", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "Z", 0x1, 10, 11, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 12, 13, -1, -1, -1, -1 },
    { NULL, NULL, 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "I", 0x11, -1, -1, -1, -1, -1, -1 },
    { NULL, "Z", 0x11, 14, 1, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 15, 16, -1, -1, -1, -1 },
    { NULL, "Z", 0x11, 17, 1, -1, -1, -1, -1 },
    { NULL, "Z", 0x11, -1, -1, -1, -1, -1, -1 },
    { NULL, "Z", 0x11, -1, -1, -1, -1, -1, -1 },
    { NULL, "Z", 0x11, -1, -1, -1, -1, -1, -1 },
    { NULL, "Z", 0x11, -1, -1, -1, -1, -1, -1 },
    { NULL, "Z", 0x11, -1, -1, -1, -1, -1, -1 },
    { NULL, "Z", 0x11, -1, -1, -1, -1, -1, -1 },
    { NULL, "Z", 0x11, -1, -1, -1, -1, -1, -1 },
    { NULL, "Z", 0x11, -1, -1, -1, -1, -1, -1 },
    { NULL, "I", 0x1, 18, 19, -1, -1, -1, -1 },
    { NULL, "I", 0x1, 20, 19, -1, -1, -1, -1 },
    { NULL, "LNSString;", 0x1, 21, 1, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 22, 23, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 24, 23, -1, -1, -1, -1 },
    { NULL, "Z", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 25, 26, -1, -1, -1, -1 },
    { NULL, "LAndroidOsBundle;", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "LAndroidOsBundle;", 0x1, 27, 26, -1, -1, -1, -1 },
    { NULL, "Z", 0x4, 28, 1, -1, -1, 29, -1 },
    { NULL, "LNSObject;", 0x4, 30, 1, -1, -1, 31, -1 },
    { NULL, "V", 0x4, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x4, 32, -1, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  methods[0].selector = @selector(getCount);
  methods[1].selector = @selector(getColumnNames);
  methods[2].selector = @selector(getStringWithInt:);
  methods[3].selector = @selector(getShortWithInt:);
  methods[4].selector = @selector(getIntWithInt:);
  methods[5].selector = @selector(getLongWithInt:);
  methods[6].selector = @selector(getFloatWithInt:);
  methods[7].selector = @selector(getDoubleWithInt:);
  methods[8].selector = @selector(isNullWithInt:);
  methods[9].selector = @selector(getTypeWithInt:);
  methods[10].selector = @selector(getBlobWithInt:);
  methods[11].selector = @selector(getWindow);
  methods[12].selector = @selector(getColumnCount);
  methods[13].selector = @selector(deactivate);
  methods[14].selector = @selector(onDeactivateOrClose);
  methods[15].selector = @selector(requery);
  methods[16].selector = @selector(isClosed);
  methods[17].selector = @selector(close);
  methods[18].selector = @selector(onMoveWithInt:withInt:);
  methods[19].selector = @selector(copyStringToBufferWithInt:withAndroidDatabaseCharArrayBuffer:);
  methods[20].selector = @selector(init);
  methods[21].selector = @selector(getPosition);
  methods[22].selector = @selector(moveToPositionWithInt:);
  methods[23].selector = @selector(fillWindowWithInt:withAndroidDatabaseCursorWindow:);
  methods[24].selector = @selector(moveWithInt:);
  methods[25].selector = @selector(moveToFirst);
  methods[26].selector = @selector(moveToLast);
  methods[27].selector = @selector(moveToNext);
  methods[28].selector = @selector(moveToPrevious);
  methods[29].selector = @selector(isFirst);
  methods[30].selector = @selector(isLast);
  methods[31].selector = @selector(isBeforeFirst);
  methods[32].selector = @selector(isAfterLast);
  methods[33].selector = @selector(getColumnIndexWithNSString:);
  methods[34].selector = @selector(getColumnIndexOrThrowWithNSString:);
  methods[35].selector = @selector(getColumnNameWithInt:);
  methods[36].selector = @selector(registerDataSetObserverWithAndroidDatabaseDataSetObserver:);
  methods[37].selector = @selector(unregisterDataSetObserverWithAndroidDatabaseDataSetObserver:);
  methods[38].selector = @selector(getWantsAllOnMoveCalls);
  methods[39].selector = @selector(setExtrasWithAndroidOsBundle:);
  methods[40].selector = @selector(getExtras);
  methods[41].selector = @selector(respondWithAndroidOsBundle:);
  methods[42].selector = @selector(isFieldUpdatedWithInt:);
  methods[43].selector = @selector(getUpdatedFieldWithInt:);
  methods[44].selector = @selector(checkPosition);
  methods[45].selector = @selector(javaFinalize);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "TAG", "LNSString;", .constantValue.asLong = 0, 0x1a, -1, 33, -1, -1 },
    { "mUpdatedRows_", "LJavaUtilHashMap;", .constantValue.asLong = 0, 0x4, -1, -1, 34, 35 },
    { "mPos_", "I", .constantValue.asLong = 0, 0x4, -1, -1, -1, -1 },
    { "mRowIdColumnIndex_", "I", .constantValue.asLong = 0, 0x4, -1, -1, -1, 36 },
    { "mCurrentRowID_", "LJavaLangLong;", .constantValue.asLong = 0, 0x4, -1, -1, -1, 37 },
    { "mClosed_", "Z", .constantValue.asLong = 0, 0x4, -1, -1, -1, -1 },
    { "mSelfObserverLock_", "LNSObject;", .constantValue.asLong = 0, 0x12, -1, -1, -1, -1 },
    { "mDataSetObservable_", "LAndroidDatabaseDataSetObservable;", .constantValue.asLong = 0, 0x12, -1, -1, -1, -1 },
    { "mExtras_", "LAndroidOsBundle;", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "getString", "I", "getShort", "getInt", "getLong", "getFloat", "getDouble", "isNull", "getType", "getBlob", "onMove", "II", "copyStringToBuffer", "ILAndroidDatabaseCharArrayBuffer;", "moveToPosition", "fillWindow", "ILAndroidDatabaseCursorWindow;", "move", "getColumnIndex", "LNSString;", "getColumnIndexOrThrow", "getColumnName", "registerDataSetObserver", "LAndroidDatabaseDataSetObserver;", "unregisterDataSetObserver", "setExtras", "LAndroidOsBundle;", "respond", "isFieldUpdated", (void *)&AndroidDatabaseAbstractCursor__Annotations$0, "getUpdatedField", (void *)&AndroidDatabaseAbstractCursor__Annotations$1, "finalize", &AndroidDatabaseAbstractCursor_TAG, "Ljava/util/HashMap<Ljava/lang/Long;Ljava/util/Map<Ljava/lang/String;Ljava/lang/Object;>;>;", (void *)&AndroidDatabaseAbstractCursor__Annotations$2, (void *)&AndroidDatabaseAbstractCursor__Annotations$3, (void *)&AndroidDatabaseAbstractCursor__Annotations$4 };
  static const J2ObjcClassInfo _AndroidDatabaseAbstractCursor = { "AbstractCursor", "android.database", ptrTable, methods, fields, 7, 0x401, 46, 9, -1, -1, -1, -1, -1 };
  return &_AndroidDatabaseAbstractCursor;
}

@end

void AndroidDatabaseAbstractCursor_init(AndroidDatabaseAbstractCursor *self) {
  NSObject_init(self);
  JreStrongAssignAndConsume(&self->mSelfObserverLock_, new_NSObject_init());
  JreStrongAssignAndConsume(&self->mDataSetObservable_, new_AndroidDatabaseDataSetObservable_init());
  JreStrongAssign(&self->mExtras_, JreLoadStatic(AndroidOsBundle, EMPTY));
  self->mPos_ = -1;
  self->mRowIdColumnIndex_ = -1;
  JreStrongAssign(&self->mCurrentRowID_, nil);
  JreStrongAssignAndConsume(&self->mUpdatedRows_, new_JavaUtilHashMap_init());
}

jboolean AndroidDatabaseAbstractCursor_moveToPositionWithInt_(AndroidDatabaseAbstractCursor *self, jint position) {
  jint count = [self getCount];
  if (position >= count) {
    self->mPos_ = count;
    return false;
  }
  if (position < 0) {
    self->mPos_ = -1;
    return false;
  }
  if (position == self->mPos_) {
    return true;
  }
  jboolean result = [self onMoveWithInt:self->mPos_ withInt:position];
  if (result == false) {
    self->mPos_ = -1;
  }
  else {
    self->mPos_ = position;
    if (self->mRowIdColumnIndex_ != -1) {
      JreStrongAssign(&self->mCurrentRowID_, JavaLangLong_valueOfWithLong_([self getLongWithInt:self->mRowIdColumnIndex_]));
    }
  }
  return result;
}

IOSObjectArray *AndroidDatabaseAbstractCursor__Annotations$0() {
  return [IOSObjectArray arrayWithObjects:(id[]){ create_JavaLangDeprecated() } count:1 type:JavaLangAnnotationAnnotation_class_()];
}

IOSObjectArray *AndroidDatabaseAbstractCursor__Annotations$1() {
  return [IOSObjectArray arrayWithObjects:(id[]){ create_JavaLangDeprecated() } count:1 type:JavaLangAnnotationAnnotation_class_()];
}

IOSObjectArray *AndroidDatabaseAbstractCursor__Annotations$2() {
  return [IOSObjectArray arrayWithObjects:(id[]){ create_JavaLangDeprecated() } count:1 type:JavaLangAnnotationAnnotation_class_()];
}

IOSObjectArray *AndroidDatabaseAbstractCursor__Annotations$3() {
  return [IOSObjectArray arrayWithObjects:(id[]){ create_JavaLangDeprecated() } count:1 type:JavaLangAnnotationAnnotation_class_()];
}

IOSObjectArray *AndroidDatabaseAbstractCursor__Annotations$4() {
  return [IOSObjectArray arrayWithObjects:(id[]){ create_JavaLangDeprecated() } count:1 type:JavaLangAnnotationAnnotation_class_()];
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(AndroidDatabaseAbstractCursor)
